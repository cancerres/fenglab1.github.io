/* ===============================
   Header / Lab Caption
================================ */

.zlab_caption {
  font-size: calc(40px + (50 - 40) * ((100vw - 400px) / (800 - 400)));
  margin-top: 50px;
  margin-bottom: 30px;
}


/* ===============================
   Theme Link Brackets Tweaks
================================ */

a.mfn-link-1:before {
  margin-right: 0;
  content: '[';
  transform: translateX(20px);
}

a.mfn-link-1:after {
  margin-left: 0;
  content: ']';
  transform: translateX(-20px);
}


/* ===============================
   General Typography
================================ */

.project-text {
  font-size: 18px;
  line-height: 1.7;
}

.project-title {
  font-size: 24px;
  margin-bottom: 60px;
  text-align: center;
}

.section-title {
  font-size: 24px;
  margin-bottom: 20px;
  text-align: left;
}


/* ===============================
   Featured Publications Layout
================================ */

.featured-pubs {
  margin: 10px 0 40px 0;
}

.featured-pubs-title h2,
.featured-pubs h2 {
  font-size: 28px;
  font-weight: 700;
  text-align: left;
  margin: 10px 0 20px 0;
}

/* Grid layout for the 3 cards */
.featured-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(300px, 1fr));
  gap: 40px;
  max-width: 1400px;
  margin: 0 auto;

  align-items: stretch; /* IMPORTANT: equal-height cards per row */
}

/* Make theme columns behave inside our grid */
.featured-grid .column {
  float: none !important;
  width: auto !important;
  margin: 0 !important;
  padding: 0 !important;
  box-sizing: border-box;

  display: flex;          /* IMPORTANT: allow card to stretch */
  align-items: stretch;   /* IMPORTANT */
}


/* ===============================
   Featured Cards
================================ */

.featured-card {
  background: #fff;
  padding: 26px;
  border-radius: 18px;
  border: 1px solid rgba(0,0,0,0.06);
  box-shadow: 0 12px 30px rgba(0,0,0,0.08);
  transition: transform 0.18s ease, box-shadow 0.18s ease;

  display: flex;
  flex-direction: column;

  width: 100%;
  height: 100%;           /* IMPORTANT: fill grid cell height */
}

.featured-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 18px 42px rgba(0,0,0,0.14);
}

/* Cover images: no cropping */
.featured-card .cover {
  width: 100%;
  height: 320px;
  object-fit: contain;
  background: #fff;
  display: block;
  border-radius: 14px;
  margin-bottom: 18px;
}


/* ===============================
   Featured Typography
================================ */

.featured-card .pub-title {
  font-size: 1.35em;
  line-height: 1.3;
  font-weight: 700;
  color: #c89a2b;  /* dark gold */
  margin: 0 0 14px 0;
}

/* Optional: clamp title height for cleaner alignment across cards */

.featured-card .pub-title{
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.featured-card .pub-title:hover {
  color: #a87f1f;
}

.featured-card .pub-authors {
  font-size: 1.1em;
  line-height: 1.6;
  margin: 0 0 10px 0;
  color: #555;
}

.featured-card .pub-meta {
  font-size: 1.1em;
  font-weight: 600;
  color: #333;

  margin-top: auto; /* IMPORTANT: pin meta to bottom of card */
}


/* Make links clean */
.featured-card a {
  text-decoration: none;
}


/* ===============================
   Site Width Control (Safe)
================================ */

/* Makes site wider but does NOT break theme internals */
.container,
.section_wrapper,
.content_wrapper {
  width: 100%;
  max-width: 1400px;
  margin-left: auto;
  margin-right: auto;
}

/* --- Featured Publications: force the grid to work with the theme --- */
.featured-pubs .featured-grid{
  display: grid !important;
  grid-template-columns: repeat(3, minmax(300px, 1fr));
  gap: 40px;
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;

  align-items: stretch !important; /* IMPORTANT: equal-height cards per row */
}

/* Kill theme column sizing inside our grid */
.featured-pubs .featured-grid > .column{
  float: none !important;
  width: auto !important;
  margin: 0 !important;
  padding: 0 !important;     /* IMPORTANT: theme padding can crush the grid */
  box-sizing: border-box;

  display: flex !important;      /* IMPORTANT */
  align-items: stretch !important;
}

/* Make sure the card stretches inside the theme wrappers */
.featured-pubs .featured-grid > .column .column_attr{
  width: 100%;
}

/* Make sure the parent row isn't forcing a strange layout */
.featured-pubs .items_group{
  display: block !important;
}


/* ===============================
   Responsive tweak
================================ */

@media (max-width: 1100px){
  .featured-grid,
  .featured-pubs .featured-grid{
    grid-template-columns: repeat(2, minmax(260px, 1fr)) !important;
  }
}

@media (max-width: 720px){
  .featured-grid,
  .featured-pubs .featured-grid{
    grid-template-columns: 1fr !important;
  }

  .featured-card .cover{
    height: 280px;
  }
}

/* ===============================
   Members page layout override
================================ */

/* Make team columns wider */
.column_our_team {
  width: 42% !important;   /* instead of 33% */
  margin-left: 4% !important;
  margin-right: 4% !important;
}

/* On smaller screens, keep it readable */
@media (max-width: 1100px) {
  .column_our_team {
    width: 80% !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }
}

/* ===============================
   Bigger profile photo
================================ */

/* Enlarge the entire image frame */
.column_our_team .image_frame {
  transform: none !important;    /* remove weird scale hacks */
  width: 280px !important;
  height: 280px !important;
  margin: 0 auto !important;
}

/* Ensure the image fills the frame cleanly */
.column_our_team .image_wrapper img {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  margin-left: 0 !important;
  max-width: none !important;
}

/* Make circular photo actually circular */
.column_our_team .image_frame,
.column_our_team .image_wrapper,
.column_our_team img {
  border-radius: 50% !important;
}

/* ===============================
   Members page typography upgrade
   (match Home page scale)
================================ */

/* Name (e.g. Dr. Weiran Feng) */
.column_our_team h4 {
  font-size: 26px !important;   /* similar to section-title scale */
  font-weight: 700 !important;
  margin-bottom: 8px !important;
}

/* Role subtitle */
.column_our_team .subtitle {
  font-size: 18px !important;
  line-height: 1.5 !important;
  color: #555 !important;
}

/* Bio text (education, mentor, etc.) */
.column_our_team .desc {
  font-size: 18px !important;   /* matches .project-text */
  line-height: 1.6 !important;
  color: #444 !important;
}

/* Make spacing cleaner */
.column_our_team .desc_wrapper {
  margin-top: 30px !important;
}

/* Make hr consistent with rest of site */
.column_our_team .hr_color {
  margin: 14px 0 !important;
}


/* ===============================
   Responsive scaling (like home page)
================================ */

@media (max-width: 1100px) {
  .column_our_team h4 {
    font-size: 24px !important;
  }

  .column_our_team .subtitle,
  .column_our_team .desc {
    font-size: 17px !important;
  }
}

@media (max-width: 720px) {
  .column_our_team h4 {
    font-size: 22px !important;
  }

  .column_our_team .subtitle,
  .column_our_team .desc {
    font-size: 16px !important;
  }
}

/* ===============================
   Global Dark Theme (refined)
================================ */

/* Page background */
body {
  background: #0b0b0b !important;   /* soft black */
  color: #e0e0e0 !important;        /* softer white */
}

/* General text */
p, li, ul, ol, span, div {
  color: #e0e0e0;
}

/* Headings */
h1, h2, h3, h4, h5, h6 {
  color: #ffffff !important;
}

/* Links */
a {
  color: #d4b15f; /* elegant gold */
}

a:hover {
  color: #f2d37a;
}

/* Header, content, footer containers */
#Header_wrapper,
#Top_bar,
#Subheader,
#Content,
.section_wrapper,
.content_wrapper,
#Footer,
.footer_copy {
  background: #0b0b0b !important;
  color: #e0e0e0 !important;
}

/* Menu */
#menu span,
.menu a {
  color: #e0e0e0 !important;
}

/* Horizontal rules */
hr {
  border-color: rgba(255,255,255,0.15) !important;
}


/* ===============================
   Members page (dark mode)
================================ */

/* Team blocks now dark too */
.column_our_team .team {
  background: transparent !important;
}

/* All text inside members stays white */
.column_our_team,
.column_our_team h4,
.column_our_team .subtitle,
.column_our_team .desc,
.column_our_team p,
.column_our_team span {
  color: #e0e0e0 !important;
}

/* Subtle divider line */
.column_our_team .hr_color {
  border-color: rgba(255,255,255,0.2) !important;
}


/* ===============================
   KEEP Featured Publication cards light
================================ */

.featured-card {
  background: #ffffff !important;
  color: #000 !important;
}

.featured-card * {
  color: #000 !important;
}


/* ===============================
   Optional polish tweaks
================================ */

/* Make section titles pop slightly */
.section-title,
.featured-pubs-title h2 {
  letter-spacing: 0.3px;
}

/* Images look nicer on dark background */
img {
  filter: brightness(0.97) contrast(1.02);
}

